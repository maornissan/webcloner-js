<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebCloner</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <div class="logo">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path
                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
              ></path>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
              <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
            <h1>WebCloner</h1>
          </div>
          <div class="header-subtitle">Advanced Website Cloner</div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <div class="content-wrapper">
          <!-- Configuration Form -->
          <div class="form-section" id="configSection">
            <div class="section-header">
              <h2>Configuration</h2>
              <p class="section-description">
                Configure your website cloning settings
              </p>
            </div>

            <form id="cloneForm" class="clone-form">
              <!-- Basic Settings -->
              <div class="form-group">
                <label for="url" class="form-label">
                  <span class="label-text">Target URL</span>
                  <span class="label-required">*</span>
                </label>
                <input
                  type="url"
                  id="url"
                  class="form-input"
                  placeholder="https://example.com"
                  required
                />
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="outputDir" class="form-label">
                    <span class="label-text">Output Directory</span>
                    <span class="label-required">*</span>
                  </label>
                  <div class="input-with-button">
                    <input
                      type="text"
                      id="outputDir"
                      class="form-input"
                      placeholder="./cloned-site"
                      required
                    />
                    <button type="button" id="selectDirBtn" class="btn-icon">
                      <svg
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                      >
                        <path
                          d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="form-group">
                  <label for="depth" class="form-label">
                    <span class="label-text">Max Depth</span>
                  </label>
                  <input
                    type="number"
                    id="depth"
                    class="form-input"
                    value="3"
                    min="1"
                    max="10"
                  />
                </div>

                <div class="form-group">
                  <label for="delay" class="form-label">
                    <span class="label-text">Delay (ms)</span>
                  </label>
                  <input
                    type="number"
                    id="delay"
                    class="form-input"
                    value="100"
                    min="0"
                    step="50"
                  />
                </div>
              </div>

              <!-- Advanced Settings Toggle -->
              <div class="advanced-toggle">
                <button type="button" id="advancedToggle" class="toggle-btn">
                  <svg
                    class="toggle-icon"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                  <span>Advanced Settings</span>
                </button>
              </div>

              <!-- Advanced Settings -->
              <div id="advancedSettings" class="advanced-settings">
                <div class="advanced-settings-content">
                  <div class="form-group">
                    <label for="userAgent" class="form-label">
                      <span class="label-text">User Agent</span>
                    </label>
                    <input
                      type="text"
                      id="userAgent"
                      class="form-input"
                      placeholder="Custom user agent (optional)"
                    />
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label class="checkbox-label">
                        <input
                          type="checkbox"
                          id="followExternal"
                          class="form-checkbox"
                        />
                        <span>Follow External Links</span>
                      </label>
                    </div>

                    <div class="form-group">
                      <label class="checkbox-label">
                        <input
                          type="checkbox"
                          id="inlineSvg"
                          class="form-checkbox"
                          checked
                        />
                        <span>Inline SVG Sprites</span>
                      </label>
                    </div>
                  </div>

                  <!-- Proxy Settings -->
                  <div class="subsection">
                    <h3 class="subsection-title">Proxy Configuration</h3>

                    <!-- Proxy Management Buttons -->
                    <div class="form-row" style="margin-bottom: 12px">
                      <button
                        type="button"
                        id="loadProxyBtn"
                        class="btn btn-secondary"
                        style="flex: 1"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                          ></path>
                          <polyline points="7 10 12 15 17 10"></polyline>
                          <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        <span>Load Proxy</span>
                      </button>
                      <button
                        type="button"
                        id="saveProxyBtn"
                        class="btn btn-secondary"
                        style="flex: 1"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <path
                            d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
                          ></path>
                          <polyline points="17 21 17 13 7 13 7 21"></polyline>
                          <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        <span>Save Proxy</span>
                      </button>
                      <button
                        type="button"
                        id="manageProxiesBtn"
                        class="btn btn-secondary"
                        style="flex: 1"
                      >
                        <svg
                          width="16"
                          height="16"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                        >
                          <line x1="8" y1="6" x2="21" y2="6"></line>
                          <line x1="8" y1="12" x2="21" y2="12"></line>
                          <line x1="8" y1="18" x2="21" y2="18"></line>
                          <line x1="3" y1="6" x2="3.01" y2="6"></line>
                          <line x1="3" y1="12" x2="3.01" y2="12"></line>
                          <line x1="3" y1="18" x2="3.01" y2="18"></line>
                        </svg>
                        <span>Manage</span>
                      </button>
                    </div>

                    <div class="form-row">
                      <div class="form-group">
                        <label for="proxyHost" class="form-label">
                          <span class="label-text">Proxy Host</span>
                        </label>
                        <input
                          type="text"
                          id="proxyHost"
                          class="form-input"
                          placeholder="proxy.example.com"
                        />
                      </div>

                      <div class="form-group">
                        <label for="proxyPort" class="form-label">
                          <span class="label-text">Proxy Port</span>
                        </label>
                        <input
                          type="number"
                          id="proxyPort"
                          class="form-input"
                          placeholder="8080"
                        />
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="form-group">
                        <label for="proxyUser" class="form-label">
                          <span class="label-text">Username</span>
                        </label>
                        <input
                          type="text"
                          id="proxyUser"
                          class="form-input"
                          placeholder="Optional"
                        />
                      </div>

                      <div class="form-group">
                        <label for="proxyPass" class="form-label">
                          <span class="label-text">Password</span>
                          <button
                            type="button"
                            id="toggleProxyPass"
                            class="btn-icon"
                            style="margin-left: 8px"
                            title="Show/Hide Password"
                          >
                            <svg
                              id="eyeIcon"
                              width="16"
                              height="16"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                            >
                              <path
                                d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                              ></path>
                              <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                          </button>
                        </label>
                        <input
                          type="password"
                          id="proxyPass"
                          class="form-input"
                          placeholder="Optional"
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Patterns -->
                  <div class="subsection">
                    <h3 class="subsection-title">URL Patterns</h3>
                    <div class="form-group">
                      <label for="includePatterns" class="form-label">
                        <span class="label-text"
                          >Include Patterns (regex, comma-separated)</span
                        >
                      </label>
                      <input
                        type="text"
                        id="includePatterns"
                        class="form-input"
                        placeholder="e.g., /blog/.*, /docs/.*"
                      />
                    </div>

                    <div class="form-group">
                      <label for="excludePatterns" class="form-label">
                        <span class="label-text"
                          >Exclude Patterns (regex, comma-separated)</span
                        >
                      </label>
                      <input
                        type="text"
                        id="excludePatterns"
                        class="form-input"
                        placeholder="e.g., /admin/.*, /private/.*"
                      />
                    </div>
                  </div>

                  <!-- Custom Headers -->
                  <div class="form-group">
                    <label for="headers" class="form-label">
                      <span class="label-text">Custom Headers (JSON)</span>
                    </label>
                    <textarea
                      id="headers"
                      class="form-textarea"
                      rows="3"
                      placeholder='{"Authorization": "Bearer token", "X-Custom": "value"}'
                    ></textarea>
                  </div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="form-actions">
                <button type="submit" id="startBtn" class="btn btn-primary">
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                  </svg>
                  <span>Start Cloning</span>
                </button>
                <button
                  type="button"
                  id="stopBtn"
                  class="btn btn-secondary"
                  disabled
                >
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <rect x="6" y="6" width="12" height="12"></rect>
                  </svg>
                  <span>Stop</span>
                </button>
              </div>
            </form>
          </div>

          <!-- Progress Section -->
          <div class="progress-section" id="progressSection">
            <div class="section-header">
              <h2>Progress</h2>
              <div class="status-badge" id="statusBadge">
                <span class="status-dot"></span>
                <span class="status-text">Ready</span>
              </div>
            </div>

            <div class="progress-content">
              <div class="terminal" id="terminal">
                <div class="terminal-header">
                  <span class="terminal-title">Console Output</span>
                </div>
                <div class="terminal-body" id="terminalBody">
                  <div class="terminal-line terminal-welcome">
                    <span class="terminal-prompt">$</span>
                    <span>Ready to clone websites...</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Proxy Management Modals -->
    <!-- Load Proxy Modal -->
    <div id="loadProxyModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Load Proxy Configuration</h3>
          <button type="button" class="modal-close" id="closeLoadModal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div id="proxyListLoad" class="proxy-list"></div>
        </div>
      </div>
    </div>

    <!-- Save Proxy Modal -->
    <div id="saveProxyModal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Save Proxy Configuration</h3>
          <button type="button" class="modal-close" id="closeSaveModal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="proxyName" class="form-label">
              <span class="label-text">Configuration Name</span>
              <span class="label-required">*</span>
            </label>
            <input
              type="text"
              id="proxyName"
              class="form-input"
              placeholder="e.g., work-proxy, home-proxy"
            />
          </div>
          <div class="modal-actions">
            <button type="button" id="confirmSaveProxy" class="btn btn-primary">
              Save
            </button>
            <button
              type="button"
              id="cancelSaveProxy"
              class="btn btn-secondary"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Manage Proxies Modal -->
    <div id="manageProxiesModal" class="modal" style="display: none">
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h3>Manage Proxy Configurations</h3>
          <button type="button" class="modal-close" id="closeManageModal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div id="proxyListManage" class="proxy-list-manage"></div>
          <div
            id="noProxiesMessage"
            style="text-align: center; padding: 20px; color: #888"
          >
            No saved proxy configurations found.
          </div>
        </div>
      </div>
    </div>

    <script src="renderer.cjs"></script>
  </body>
</html>
